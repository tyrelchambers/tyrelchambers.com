---
interface Props {
  title?: string;
}

const { title = "tyrel_chambers | Software Engineer" } = Astro.props;
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{title}</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet" />
  </head>
  <body class="bg-[#0C0C0C] font-mono text-[#E5E5E5]">
    <!-- Header -->
    <header class="flex items-center justify-between px-4 sm:px-8 md:px-12 lg:px-20 py-5 bg-[#0C0C0C] w-full">
      <a href="/" class="flex items-center gap-2">
        <span class="text-[#22C55E] text-xl font-semibold">~</span>
        <span class="text-[#E5E5E5] text-lg font-medium">tyrel_chambers</span>
        <div class="w-2.5 h-5 bg-[#22C55E] cursor-blink"></div>
      </a>
      <!-- Hamburger Menu Button -->
      <button id="menu-toggle" class="md:hidden flex flex-col justify-center items-center w-8 h-8 gap-1.5" aria-label="Toggle menu">
        <span class="hamburger-line w-6 h-0.5 bg-[#E5E5E5] transition-all duration-300"></span>
        <span class="hamburger-line w-6 h-0.5 bg-[#E5E5E5] transition-all duration-300"></span>
        <span class="hamburger-line w-6 h-0.5 bg-[#E5E5E5] transition-all duration-300"></span>
      </button>
      <!-- Desktop Nav -->
      <nav class="hidden md:flex items-center gap-8">
        <a href="/#about" class="text-[#737373] text-[13px] hover:text-[#22C55E] transition-colors">./about</a>
        <a href="/projects" class="text-[#737373] text-[13px] hover:text-[#22C55E] transition-colors">./projects</a>
        <a href="/#experience" class="text-[#737373] text-[13px] hover:text-[#22C55E] transition-colors">./experience</a>
        <a href="/#contact" class="text-[#22C55E] text-[13px]">./contact</a>
      </nav>
      <!-- Mobile Nav Overlay -->
      <nav id="mobile-menu" class="mobile-menu fixed inset-0 bg-[#0C0C0C] z-50 flex flex-col items-center justify-center gap-8 md:hidden">
        <button id="menu-close" class="absolute top-5 right-4 w-8 h-8 flex items-center justify-center" aria-label="Close menu">
          <span class="text-[#E5E5E5] text-2xl">&times;</span>
        </button>
        <a href="/#about" class="mobile-nav-link text-[#737373] text-xl hover:text-[#22C55E] transition-colors">./about</a>
        <a href="/projects" class="mobile-nav-link text-[#737373] text-xl hover:text-[#22C55E] transition-colors">./projects</a>
        <a href="/#experience" class="mobile-nav-link text-[#737373] text-xl hover:text-[#22C55E] transition-colors">./experience</a>
        <a href="/#contact" class="mobile-nav-link text-[#22C55E] text-xl">./contact</a>
      </nav>
    </header>

    <slot />

    <!-- Footer -->
    <footer class="flex flex-col sm:flex-row items-center justify-between gap-4 px-4 sm:px-8 md:px-12 lg:px-20 py-6 lg:py-10 bg-[#0C0C0C] border-t border-[#1F1F1F] w-full">
      <a href="/" class="flex items-center gap-2">
        <span class="text-[#22C55E] text-sm">~</span>
        <span class="text-[#737373] text-sm font-medium">tyrel_chambers</span>
        <div class="w-2 h-4 bg-[#22C55E] cursor-blink"></div>
      </a>
      <div class="flex flex-col sm:flex-row items-center gap-2 sm:gap-8">
        <span class="text-[#525252] text-[11px]">// &copy; 2026 all_rights_reserved</span>
        <span class="text-[#525252] text-[11px]">built_with: Astro + Tailwind</span>
      </div>
    </footer>

    <script>
      // Scroll animations
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('visible');
          }
        });
      }, { threshold: 0.3 });

      document.querySelectorAll('.fade-in-scroll').forEach(el => observer.observe(el));

      // Mobile menu toggle
      const menuToggle = document.getElementById('menu-toggle');
      const menuClose = document.getElementById('menu-close');
      const mobileMenu = document.getElementById('mobile-menu');
      const mobileNavLinks = document.querySelectorAll('.mobile-nav-link');

      function openMenu() {
        mobileMenu?.classList.add('open');
        document.body.style.overflow = 'hidden';
      }

      function closeMenu() {
        mobileMenu?.classList.remove('open');
        document.body.style.overflow = '';
      }

      menuToggle?.addEventListener('click', openMenu);
      menuClose?.addEventListener('click', closeMenu);

      // Close menu when clicking nav links
      mobileNavLinks.forEach(link => {
        link.addEventListener('click', closeMenu);
      });

      // Close menu on escape key
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') closeMenu();
      });
    </script>
  </body>
</html>

<style is:global>
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  body {
    font-family: 'JetBrains Mono', monospace;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Cursor blink */
  .cursor-blink {
    animation: blink 1s step-end infinite;
  }
  @keyframes blink {
    0%, 50% { opacity: 1; }
    51%, 100% { opacity: 0; }
  }

  /* Status pulse */
  .status-pulse {
    animation: pulse 2s ease-in-out infinite;
    box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.7);
  }
  @keyframes pulse {
    0% {
      box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.7);
    }
    70% {
      box-shadow: 0 0 0 10px rgba(34, 197, 94, 0);
    }
    100% {
      box-shadow: 0 0 0 0 rgba(34, 197, 94, 0);
    }
  }

  /* Fade in on scroll */
  .fade-in-scroll {
    opacity: 0;
    transform: translateY(30px);
    transition: opacity 0.8s ease-out, transform 0.8s ease-out;
  }
  .fade-in-scroll.visible {
    opacity: 1;
    transform: translateY(0);
  }

  /* Button glow on hover */
  .btn-glow {
    transition: box-shadow 0.3s ease, transform 0.2s ease;
  }
  .btn-glow:hover {
    box-shadow: 0 0 25px rgba(34, 197, 94, 0.6), 0 0 50px rgba(34, 197, 94, 0.3);
    transform: translateY(-1px);
  }

  /* Mobile menu */
  .mobile-menu {
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s ease, visibility 0.3s ease;
  }
  .mobile-menu.open {
    opacity: 1;
    visibility: visible;
  }

  /* Hamburger animation */
  #menu-toggle.active .hamburger-line:nth-child(1) {
    transform: rotate(45deg) translate(5px, 5px);
  }
  #menu-toggle.active .hamburger-line:nth-child(2) {
    opacity: 0;
  }
  #menu-toggle.active .hamburger-line:nth-child(3) {
    transform: rotate(-45deg) translate(5px, -5px);
  }
</style>
